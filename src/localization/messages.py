"""
Localization messages for YouTube Summarizer Bot
Russian translation support
"""

from typing import Dict, Any

# Current language setting (default: Russian)
_current_language = "ru"

# Message templates in Russian
MESSAGES = {
    "ru": {
        # Welcome and help messages
        "welcome_message": """
üé• **{bot_name}** v{bot_version}

–ü—Ä–∏–≤–µ—Ç, {first_name}! üëã

–Ø –º–æ–≥—É –ø–æ–º–æ—á—å –≤–∞–º —Å–æ–∑–¥–∞—Ç—å –∫—Ä–∞—Ç–∫–∏–µ –∏–∑–ª–æ–∂–µ–Ω–∏—è –≤–∏–¥–µ–æ —Å YouTube —Å –ø–æ–º–æ—â—å—é –ò–ò. –ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ —Å—Å—ã–ª–∫—É –Ω–∞ YouTube, –∏ —è:

üîç –ò–∑–≤–ª–µ–∫—É —Å—É–±—Ç–∏—Ç—Ä—ã –∏ –∫–ª—é—á–µ–≤—ã–µ –∫–∞–¥—Ä—ã
ü§ñ –°–æ–∑–¥–∞–º –∫—Ä–∞—Ç–∫–æ–µ –∏–∑–ª–æ–∂–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –ò–ò  
üìÑ –°–æ–∑–¥–∞–º –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–π –¥–æ–∫—É–º–µ–Ω—Ç

**–ö–æ–º–∞–Ω–¥—ã:**
/start - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
/help - –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é —Å–ø—Ä–∞–≤–∫—É
/summarize <—Å—Å—ã–ª–∫–∞ YouTube> - –°–æ–∑–¥–∞—Ç—å –∏–∑–ª–æ–∂–µ–Ω–∏–µ –≤–∏–¥–µ–æ
/status - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏
/formats - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:** {supported_formats}

–ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ —Å—Å—ã–ª–∫—É –Ω–∞ YouTube, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å! üöÄ
        """,
        
        "help_text": """
üìñ <b>{bot_name} - –°–ø—Ä–∞–≤–æ—á–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ</b>

<b>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</b>
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ –ª—é–±—É—é —Å—Å—ã–ª–∫—É –Ω–∞ YouTube
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ò–ò (1-5 –º–∏–Ω—É—Ç)
4. –°–∫–∞—á–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç —Å –∏–∑–ª–æ–∂–µ–Ω–∏–µ–º

<b>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å—Å—ã–ª–∫–∏:</b>
‚Ä¢ youtube.com/watch?v=VIDEO_ID
‚Ä¢ youtu.be/VIDEO_ID
‚Ä¢ m.youtube.com/watch?v=VIDEO_ID

<b>–ö–æ–º–∞–Ω–¥—ã:</b>
‚Ä¢ <code>/summarize [—Å—Å—ã–ª–∫–∞]</code> - –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤–∏–¥–µ–æ
‚Ä¢ <code>/status</code> - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –æ—á–µ—Ä–µ–¥—å –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚Ä¢ <code>/formats</code> - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚Ä¢ <code>/cancel</code> - –û—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∑–∞–ø—Ä–æ—Å

<b>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</b>
‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –≤–∏–¥–µ–æ: {max_duration} –º–∏–Ω—É—Ç
‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏: {rate_limit_messages} –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ {rate_limit_window} —Å–µ–∫—É–Ω–¥

<b>–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å:</b>
‚Ä¢ –í–∏–¥–µ–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω–æ –∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
‚Ä¢ –ò–∑–≤–ª–µ–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—É–±—Ç–∏—Ç—Ä—ã –∏ –∫–ª—é—á–µ–≤—ã–µ –∫–∞–¥—Ä—ã
‚Ä¢ –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º

–ù—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–º–æ—â—å? –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –±–æ—Ç–∞.
        """,
        
        # Format messages
        "formats_title": "üìÑ **–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞**",
        "formats_supported": "**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**",
        "formats_default": "**–§–æ—Ä–º–∞—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** {default_format}",
        "formats_specify": "–í—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ: `/summarize [—Å—Å—ã–ª–∫–∞] format:[—Ñ–æ—Ä–º–∞—Ç]`",
        
        "format_descriptions": {
            'txt': 'üìù –ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç (.txt) - –ü—Ä–æ—Å—Ç–æ–π, —á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç',
            'docx': 'üìÑ –î–æ–∫—É–º–µ–Ω—Ç Word (.docx) - –ë–æ–≥–∞—Ç–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏',
            'pdf': 'üìï PDF –¥–æ–∫—É–º–µ–Ω—Ç (.pdf) - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥'
        },
        
        # Status messages
        "status_processing": """
‚è≥ **–°—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏**

**–í–∞—à –∑–∞–ø—Ä–æ—Å:**
‚Ä¢ ID –≤–∏–¥–µ–æ: `{video_id}`
‚Ä¢ –°—Ç–∞—Ç—É—Å: {status}
‚Ä¢ –ü–æ–∑–∏—Ü–∏—è –≤ –æ—á–µ—Ä–µ–¥–∏: {position}
‚Ä¢ –û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ–µ –≤—Ä–µ–º—è: {estimated_time} –º–∏–Ω—É—Ç

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏...
        """,
        
        "status_no_requests": """
‚úÖ **–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**

–£ –≤–∞—Å –Ω–µ—Ç –≤–∏–¥–µ–æ, –∫–æ—Ç–æ—Ä—ã–µ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è.
–û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ —Å—Å—ã–ª–∫—É –Ω–∞ YouTube, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤–æ–µ –∏–∑–ª–æ–∂–µ–Ω–∏–µ!
        """,
        
        # Error messages
        "error_no_url": "‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ YouTube.\n\n–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: `/summarize [—Å—Å—ã–ª–∫–∞ –Ω–∞ YouTube]`",
        "error_unsupported_format": "‚ùå –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç: {format}\n\n–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: {available_formats}",
        "error_invalid_url": "‚ùå –≠—Ç–æ –Ω–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É YouTube.\n\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É YouTube –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ /help –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.",
        "error_unauthorized": "‚ùå –ò–∑–≤–∏–Ω–∏—Ç–µ, —É –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ–≥–æ –±–æ—Ç–∞.",
        "error_rate_limit": "‚ùå –ü—Ä–µ–≤—ã—à–µ–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ {rate_limit_window} —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏.",
        "error_extract_video_id": "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–≤–ª–µ—á—å ID –≤–∏–¥–µ–æ –∏–∑ —Å—Å—ã–ª–∫–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Å—ã–ª–∫—É –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.",
        "error_queue_full": "‚ùå –û—á–µ—Ä–µ–¥—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.",
        "error_general": "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –≤ –æ—á–µ—Ä–µ–¥—å –≤–∞—à–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.",
        
        # Success messages
        "success_queued": """‚úÖ **–í–∏–¥–µ–æ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ –æ—á–µ—Ä–µ–¥—å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏!**

üìπ ID –≤–∏–¥–µ–æ: `{video_id}`
üìÑ –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞: {output_format}
‚è±Ô∏è –û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: 2-5 –º–∏–Ω—É—Ç

–Ø –æ—Ç–ø—Ä–∞–≤–ª—é –≤–∞–º –¥–æ–∫—É–º–µ–Ω—Ç —Å –∏–∑–ª–æ–∂–µ–Ω–∏–µ–º, –∫–æ–≥–¥–∞ –æ–Ω –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤! üöÄ""",
        
        "success_cancelled": "‚úÖ –í–∞—à –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –±—ã–ª –æ—Ç–º–µ–Ω–µ–Ω.",
        "error_no_cancel": "‚ùå –ê–∫—Ç–∏–≤–Ω—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–ª—è –æ—Ç–º–µ–Ω—ã –Ω–µ –Ω–∞–π–¥–µ–Ω.",
        
        # Processing updates
        "processing_ai_summary": "ü§ñ –°–æ–∑–¥–∞–Ω–∏–µ –∫—Ä–∞—Ç–∫–æ–≥–æ –∏–∑–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –ò–ò...",
        "processing_document": "üìÑ –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞...",
        
        # Completion message
        "completion_message": """
‚úÖ **–ò–∑–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ!**

üìπ **–í–∏–¥–µ–æ**: {title}
‚è±Ô∏è **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: {duration}
ü§ñ **–ú–æ–¥–µ–ª—å –ò–ò**: {ai_model}
üìä **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤**: {tokens_used}

**–ö—Ä–∞—Ç–∫–æ–µ –∏–∑–ª–æ–∂–µ–Ω–∏–µ**:
{executive_summary}...

üìÅ –î–æ–∫—É–º–µ–Ω—Ç –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω –Ω–∏–∂–µ!
        """,
        
        # Error messages for processing
        "processing_failed": """
‚ùå **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å**

–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–∞—à–µ–≥–æ –≤–∏–¥–µ–æ:
{error_message}

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –∏—Å—á–µ–∑–Ω–µ—Ç.
        """,
        
        "document_send_failed": "–î–æ–∫—É–º–µ–Ω—Ç –±—ã–ª —Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å.",
        
        # Bot commands descriptions
        "commands": {
            "start": "–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –∏ —É–≤–∏–¥–µ—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
            "help": "–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é —Å–ø—Ä–∞–≤–∫—É –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é",
            "summarize": "–°–æ–∑–¥–∞—Ç—å –∏–∑–ª–æ–∂–µ–Ω–∏–µ –≤–∏–¥–µ–æ YouTube",
            "status": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏",
            "formats": "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞",
            "cancel": "–û—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É"
        }
    },
    
    # English messages (fallback)
    "en": {
        "welcome_message": """
üé• **{bot_name}** v{bot_version}

Hello {first_name}! üëã

I can help you summarize YouTube videos using AI. Just send me a YouTube URL and I'll:

üîç Extract subtitles and key frames
ü§ñ Generate an AI-powered summary  
üìÑ Create a downloadable document

**Commands:**
/start - Show this welcome message
/help - Get detailed help
/summarize <YouTube URL> - Summarize a video
/status - Check processing status
/formats - See available output formats

**Supported formats:** {supported_formats}

Just send me a YouTube URL to get started! üöÄ
        """,
        # ... (keeping original English messages as fallback)
    }
}


def set_language(language_code: str) -> None:
    """Set the current language."""
    global _current_language
    if language_code in MESSAGES:
        _current_language = language_code
    else:
        _current_language = "ru"  # Default to Russian


def get_messages() -> Dict[str, Any]:
    """Get messages for the current language."""
    return MESSAGES.get(_current_language, MESSAGES["ru"])


def get_message(key: str, **kwargs) -> str:
    """Get a specific message with formatting."""
    messages = get_messages()
    
    # Navigate nested keys (e.g., "format_descriptions.txt")
    keys = key.split('.')
    message = messages
    for k in keys:
        if isinstance(message, dict) and k in message:
            message = message[k]
        else:
            return f"Missing message: {key}"
    
    # Format the message if it's a string
    if isinstance(message, str) and kwargs:
        try:
            return message.format(**kwargs)
        except KeyError as e:
            return f"Missing parameter {e} for message: {key}"
    
    return message if isinstance(message, str) else str(message) 